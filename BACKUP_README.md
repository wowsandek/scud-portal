# üîÑ –°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–∞ SCUD Portal

## üìã –û–±–∑–æ—Ä

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ SCUD Portal, –≤–∫–ª—é—á–∞—è:
- –ö–æ–¥ backend –∏ frontend
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
backup-database.bat
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
backup-project.bat
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
```bash
restore-project.bat
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—ç–∫–∞–ø–æ–≤

```
backups/
‚îú‚îÄ‚îÄ scud_database_2024-01-15_14-30-25.sql    # –ë—ç–∫–∞–ø —Ç–æ–ª—å–∫–æ –ë–î
‚îî‚îÄ‚îÄ scud_project_2024-01-15_14-30-25/        # –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
    ‚îú‚îÄ‚îÄ backend/                              # Backend –∫–æ–¥
    ‚îú‚îÄ‚îÄ frontend/                             # Frontend –∫–æ–¥
    ‚îú‚îÄ‚îÄ database_backup.sql                   # –ë—ç–∫–∞–ø –ë–î
    ‚îú‚îÄ‚îÄ docker-compose.yml                    # Docker –∫–æ–Ω—Ñ–∏–≥
    ‚îú‚îÄ‚îÄ backup-database.bat                   # –°–∫—Ä–∏–ø—Ç—ã –±—ç–∫–∞–ø–∞
    ‚îú‚îÄ‚îÄ backup-project.bat
    ‚îî‚îÄ‚îÄ README_BACKUP.txt                     # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
```

## üîß –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
pg_dump -h localhost -U postgres -d scudsystem > backup.sql
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
psql -h localhost -U postgres -d scudsystem < backup.sql
```

### –ë—ç–∫–∞–ø –∫–æ–¥–∞ (Git)
```bash
git add .
git commit -m "Backup: $(date)"
git push origin main
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ü–µ—Ä–µ–¥ –±—ç–∫–∞–ø–æ–º
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

### –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `npx prisma migrate deploy`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á Windows
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á"
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
3. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ `backup-project.bat`
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00)

### PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
```powershell
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –¥–∏—Å–∫
$backup_script = "C:\scud-portal\backup-project.bat"
$external_drive = "D:\backups\"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫–∞–ø
& $backup_script

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –¥–∏—Å–∫
$latest_backup = Get-ChildItem "C:\scud-portal\backups" | Sort-Object LastWriteTime -Descending | Select-Object -First 1
Copy-Item $latest_backup.FullName $external_drive -Recurse
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –•—Ä–∞–Ω–∏—Ç–µ –±—ç–∫–∞–ø—ã –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º –¥–∏—Å–∫–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–µ–≥—É–ª—è—Ä–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
- `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `database_backup.sql` - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `prisma/schema.prisma` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –±—ç–∫–∞–ø–æ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PostgreSQL
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Prisma

## üîÑ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—ç–∫–∞–ø—ã:
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ** - –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ** - –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- **–ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º** - –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–ü–æ—Å–ª–µ –≤–∞–∂–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ 